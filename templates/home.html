{% extends "layout.html" %}
{% block title %}Home{% endblock %}
{% block head %}<script src="/static/home.js"></script>{% endblock %}
{% block body %}

<!-- Start of Page Header-->
<div class="row text-center p-3">
    <h3>Home</h3>
</div>
<!--End of Page Header-->

<!--Start of Cards-->
<div class="row text-center">
    <!--Start of first card-->
    <div class="col-6 col-md-4 col-sm-4 col-xl-4 col-xxl-4 d-flex align-items-center">
        <div class="card h-100 w-100">
            <div class="card-body d-flex align-items-center flex-column">
                <h5 class="card-title">üìì Jokes Written</h5>
                <p class="card-text fs-4 h-100 d-flex align-items-center">{{ jokeCount }}</p>
            </div>
        </div>
    </div>
    <!--End of first card-->

    <!--Start of second card-->
   <div class="col-6 col-md-4 col-sm-4 col-xl-4 col-xxl-4 d-flex">
        <div class="card h-100 w-100">
            <div class="card-body d-flex align-items-center flex-column">
                <h5 class="card-title">üî• Streak</h5>
                <p class="card-text fs-4 h-100 d-flex align-items-center">3 Days</p>
            </div>
        </div>
    </div>
    <!--End of second card-->

    <!--Start of third card-->
   <div class="col col-md-4 col-sm-4 col-xl-4 col-xxl-4 d-flex">
        <div class="card h-100 w-100">
            <div class="card-body d-flex justify-content-center flex-column">
                <h5 class="card-title">üí° Writing Prompt</h5>
                <p class="card-text" id="prompt-text">{{prompt}}</p>
                <button class="btn btn-primary btn-sm" id="prompt">New Prompt</button>
            </div>
        </div>
    </div>
    <!--End of third card-->
</div>
<!--End of Cards-->

<!--Start of second row (Recent activity / quick notes)-->
<div class="row mt-3">
    <!--Start of recent activity-->
    <div class="col-8 col-md-8 col-sm-8 col-xl-8 col-xxl-8">
        <div class="card h-100 w-100">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title text-center">üïò Recent Activity</h5>
                <table class="table">
                    <tbody>
                            <tr>
                                <td>New Joke Written</td>
                                <td>Title of New Joke</td>
                            </tr>
                            <tr>
                                <td>Set Updated</td>
                                <td>Title of new set</td>
                            </tr>
                            <tr>
                                <td>Edited Joke</td>
                                <td>V4 - Punchline Changed</td>
                            </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--End of recent activity-->

    <!--Start of quick notes-->
    <div class="col d-flex">
        <div class="card w-100">
            <form class="card-body d-flex justify-content-center flex-column" method="post">
                <h5 class="card-title pb-2 text-center">üìù Quick Notes</h5>
                    <textarea class="form-control mb-3" rows="3" name="notes"></textarea>
                    <button class="btn btn-primary btn-sm">Save to Vault</button>
                    {% with messages = get_flashed_messages(category_filter="notes") %}
                        {% if messages %}
                            {% for msg in messages %}
                                <p class="error">{{ msg }}</p>
                            {% endfor %}
                        {% endif %}
                    {% endwith %}
            </form>
        </div>
    </div>
    <!--End of quick notes-->
</div>
<!--End of second row (Recent activity / quick notes)-->

<!--Start of third row (Funny quotes / top tags / countdown to next gig)-->
<div class="row mt-3">
    <!--Left side-->
    <!--Start of funny quotes-->
    <div class="col-8 col-md-8 col-sm-8 col-xl-8 col-xxl-8">
        <div class="card h-50 w-100">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title text-center">ü§£ Daily Eye-Roller</h5>
                <p class="card-text pt-2"><em>{{joke}}</em></p>
            </div>
        </div>
    <!--End of funny quotes-->

    <!--Start of countdown-->
    <div class="card w-100 mt-3 pb-0" style="height: 133px">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title text-center">‚è≥ Countdown</h5>
                <p class="card-text">Next gig in <b>20</b> days</p>
            </div>
        </div>
    </div>
    <!--End of countdown-->
    
    <!--Start of Top tags-->
    <div class="col d-flex">
        <div class="card w-100", style="height: 300px;">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title pb-2 text-center">üè∑Ô∏è Most Used Tags</h5>
                <table class="table">
                    <tbody>
                        {% for row in topTags %}
                                <tr>
                                    {% for item in row %}
                                        <td>{{ item }}</td>
                                    {% endfor %}
                                </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <!--End of top tags-->
</div>
<!--End of third row (Funny quotes / top tags)-->

{% endblock %}